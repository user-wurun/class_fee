(()=>{var e={};e.id=626,e.ids=[626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},67683:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),r(22454),r(54403),r(90996);var s=r(30170),a=r(45002),n=r(83876),o=r.n(n),i=r(66299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22454)),"C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,54403)),"C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\login\\page.tsx"],c="/login/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35111:(e,t,r)=>{Promise.resolve().then(r.bind(r,12838))},86328:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63642,23)),Promise.resolve().then(r.t.bind(r,87586,23)),Promise.resolve().then(r.t.bind(r,47838,23)),Promise.resolve().then(r.t.bind(r,58057,23)),Promise.resolve().then(r.t.bind(r,77741,23)),Promise.resolve().then(r.t.bind(r,13118,23))},93847:(e,t,r)=>{Promise.resolve().then(r.bind(r,72411))},12838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(97247),a=r(28964),n=r(34178),o=r(79906),i=r(72411);function l(){let[e,t]=(0,a.useState)({username:"",password:""}),[r,l]=(0,a.useState)(!1),d=(0,n.useRouter)(),u=r=>{t({...e,[r.target.name]:r.target.value})},c=async t=>{t.preventDefault(),l(!0);try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();r.success?(localStorage.setItem("auth-token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user)),console.log("登录成功，用户数据:",r.data.user),i.Am.success("登录成功，正在跳转..."),setTimeout(()=>{d.push("/")},1e3)):i.Am.error(r.message)}catch(e){i.Am.error("登录失败，请重试")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"班费管理系统"}),s.jsx("p",{className:"text-gray-600",children:"请登录您的账户"})]}),(0,s.jsxs)("form",{onSubmit:c,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名"}),s.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入用户名",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),s.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入密码",required:!0})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"登录中...":"登录"})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["还没有账户？"," ",s.jsx(o.default,{href:"/register",className:"text-blue-600 hover:text-blue-700",children:"立即注册"})]})})]})})}},54403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(72051),a=r(23750),n=r.n(a);r(67272);var o=r(10247);let i={title:"班费管理系统",description:"一个现代化的班级财务管理平台"};function l({children:e}){return s.jsx("html",{lang:"zh-CN",children:(0,s.jsxs)("body",{className:n().className,children:[e,s.jsx(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}},22454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(45347).createProxy)(String.raw`C:\Users\Wu\Desktop\班费管理系统\app\login\page.tsx#default`)},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[787,527,977],()=>r(67683));module.exports=s})();