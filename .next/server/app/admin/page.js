(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>o,pages:()=>x,routeModule:()=>m,tree:()=>c}),s(83389),s(54403),s(90996);var a=s(30170),r=s(45002),i=s(83876),l=s.n(i),n=s(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83389)),"C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,54403)),"C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\Wu\\Desktop\\班费管理系统\\app\\admin\\page.tsx"],o="/admin/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56999:(e,t,s)=>{Promise.resolve().then(s.bind(s,85150))},86328:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},93847:(e,t,s)=>{Promise.resolve().then(s.bind(s,72411))},85150:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(97247),r=s(28964),i=s(34178),l=s(83462),n=s(72411);function d(){(0,i.useRouter)();let[e,t]=(0,r.useState)("applications"),[s,d]=(0,r.useState)([]),[c,x]=(0,r.useState)([]),[o,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[h,u]=(0,r.useState)(!0),[y,b]=(0,r.useState)({page:1,limit:20,total:0,pages:0}),[j,f]=(0,r.useState)(1),N=async(e=1)=>{try{let t=localStorage.getItem("auth-token"),[s,a,r,i]=await Promise.all([fetch(`/api/applications?page=${e}&limit=20`,{headers:{Authorization:`Bearer ${t}`}}),fetch("/api/admin/users",{headers:{Authorization:`Bearer ${t}`}}),fetch("/api/admin/categories",{headers:{Authorization:`Bearer ${t}`}}),fetch("/api/admin/registration-codes",{headers:{Authorization:`Bearer ${t}`}})]),[l,n,c,o]=await Promise.all([s.json(),a.json(),r.json(),i.json()]);l.success&&(d(l.data.applications),b(l.data.pagination),f(e)),n.success&&x(n.data),c.success&&p(c.data),o.success&&g(o.data.codes)}catch(e){n.Am.error("加载数据失败")}finally{u(!1)}},w=async e=>{try{let t=localStorage.getItem("auth-token"),s=await fetch(`/api/applications/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:"approved"})}),a=await s.json();a.success?(n.Am.success("申请已批准"),N(j)):n.Am.error(a.message)}catch(e){n.Am.error("操作失败")}},v=async(e,t)=>{try{let s=localStorage.getItem("auth-token"),a=await fetch(`/api/applications/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({status:"rejected",rejection_reason:t})}),r=await a.json();r.success?(n.Am.success("申请已拒绝"),N(j)):n.Am.error(r.message)}catch(e){n.Am.error("操作失败")}},k=async(e=10)=>{try{let t=localStorage.getItem("auth-token"),s=await fetch("/api/admin/registration-codes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({count:e,expiresInDays:30})}),a=await s.json();a.success?(n.Am.success(`已生成${e}个注册码`),N(j)):n.Am.error(a.message)}catch(e){n.Am.error("生成注册码失败")}},C=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),_=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e);return h?a.jsx(l.Z,{children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):a.jsx(l.Z,{children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"管理后台"}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:["applications","users","categories","registration-codes"].map(s=>(0,a.jsxs)("button",{onClick:()=>t(s),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["applications"===s&&"申请管理","users"===s&&"用户管理","categories"===s&&"分类管理","registration-codes"===s&&"注册码管理"]},s))})}),(0,a.jsxs)("div",{className:"mt-6",children:["applications"===e&&a.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"申请管理"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"标题"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"申请人"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金额"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"申请时间"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.applicant_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(e.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"cancelled"===e.status?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:"approved"===e.status?"已通过":"rejected"===e.status?"已拒绝":"cancelled"===e.status?"已撤销":"待审批"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(e.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>w(e.id),className:"text-green-600 hover:text-green-900 mr-3",children:"批准"}),a.jsx("button",{onClick:()=>{let t=prompt("请输入拒绝原因：");t&&v(e.id,t)},className:"text-red-600 hover:text-red-900",children:"拒绝"})]})})]},e.id))})]})}),y.pages>1&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(j-1)*y.limit+1," 到"," ",Math.min(j*y.limit,y.total)," 条，共"," ",y.total," 条记录"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(j-1),disabled:j<=1,className:`px-3 py-1 rounded ${j<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"上一页"}),Array.from({length:Math.min(5,y.pages)},(e,t)=>{let s;return s=y.pages<=5?t+1:j<=3?t+1:j>=y.pages-2?y.pages-4+t:j-2+t,a.jsx("button",{onClick:()=>N(s),className:`px-3 py-1 rounded ${j===s?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:s},s)}),a.jsx("button",{onClick:()=>N(j+1),disabled:j>=y.pages,className:`px-3 py-1 rounded ${j>=y.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"下一页"})]})]})})]})}),"users"===e&&a.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"用户管理"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户名"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"真实姓名"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"邮箱"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"角色"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"注册时间"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.username}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.real_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:"admin"===e.role?"管理员":"普通用户"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(e.created_at)})]},e.id))})]})}),y.pages>1&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(j-1)*y.limit+1," 到"," ",Math.min(j*y.limit,y.total)," 条，共"," ",y.total," 条记录"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(j-1),disabled:j<=1,className:`px-3 py-1 rounded ${j<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"上一页"}),Array.from({length:Math.min(5,y.pages)},(e,t)=>{let s;return s=y.pages<=5?t+1:j<=3?t+1:j>=y.pages-2?y.pages-4+t:j-2+t,a.jsx("button",{onClick:()=>N(s),className:`px-3 py-1 rounded ${j===s?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:s},s)}),a.jsx("button",{onClick:()=>N(j+1),disabled:j>=y.pages,className:`px-3 py-1 rounded ${j>=y.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"下一页"})]})]})})]})}),"categories"===e&&a.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"分类管理"}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类名称"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"描述"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用次数"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.description||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.application_count||0}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(e.created_at)})]},e.id))})]})}),y.pages>1&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(j-1)*y.limit+1," 到"," ",Math.min(j*y.limit,y.total)," 条，共"," ",y.total," 条记录"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(j-1),disabled:j<=1,className:`px-3 py-1 rounded ${j<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"上一页"}),Array.from({length:Math.min(5,y.pages)},(e,t)=>{let s;return s=y.pages<=5?t+1:j<=3?t+1:j>=y.pages-2?y.pages-4+t:j-2+t,a.jsx("button",{onClick:()=>N(s),className:`px-3 py-1 rounded ${j===s?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:s},s)}),a.jsx("button",{onClick:()=>N(j+1),disabled:j>=y.pages,className:`px-3 py-1 rounded ${j>=y.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"下一页"})]})]})})]})}),"registration-codes"===e&&a.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"注册码管理"}),(0,a.jsxs)("div",{className:"space-x-3",children:[a.jsx("button",{onClick:()=>k(5),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"生成5个注册码"}),a.jsx("button",{onClick:()=>k(10),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"生成10个注册码"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"注册码"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用者"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用时间"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:e.code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e.is_used?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800"}`,children:e.is_used?"已使用":"未使用"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.used_by_name||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(e.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.used_at?C(e.used_at):"-"})]},e.id))})]})}),y.pages>1&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(j-1)*y.limit+1," 到"," ",Math.min(j*y.limit,y.total)," 条，共"," ",y.total," 条记录"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(j-1),disabled:j<=1,className:`px-3 py-1 rounded ${j<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"上一页"}),Array.from({length:Math.min(5,y.pages)},(e,t)=>{let s;return s=y.pages<=5?t+1:j<=3?t+1:j>=y.pages-2?y.pages-4+t:j-2+t,a.jsx("button",{onClick:()=>N(s),className:`px-3 py-1 rounded ${j===s?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:s},s)}),a.jsx("button",{onClick:()=>N(j+1),disabled:j>=y.pages,className:`px-3 py-1 rounded ${j>=y.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"下一页"})]})]})})]})})]})]})})}},83462:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(97247),r=s(28964),i=s(34178),l=s(72411);function n({children:e}){let[t,s]=(0,r.useState)(null),[n,d]=(0,r.useState)(!1),c=(0,i.useRouter)();return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("nav",{className:"bg-white shadow-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>c.push("/"),className:"text-xl font-bold text-gray-800 hover:text-gray-600",children:"班费管理系统"}),a.jsx("a",{href:"https://dashboard.pay.cubestudio.top",target:"_blank",rel:"noopener noreferrer",className:"ml-6 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"数据看板"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:["admin"===t.role&&a.jsx("button",{onClick:()=>c.push("/admin"),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"管理后台"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>d(!n),className:"flex items-center text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:[a.jsx("span",{className:"mr-2",children:t.real_name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${"admin"===t.role?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:"admin"===t.role?"管理员":"普通用户"}),a.jsx("svg",{className:"ml-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[a.jsx("button",{onClick:()=>{d(!1),(0,l.Am)("个人资料功能开发中")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"个人资料"}),a.jsx("button",{onClick:()=>{d(!1),c.push("/applications/new")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"新建申请"}),a.jsx("hr",{className:"my-1"}),a.jsx("button",{onClick:()=>{localStorage.removeItem("auth-token"),localStorage.removeItem("user"),l.Am.success("已退出登录"),c.push("/login")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"退出登录"})]})]})]})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e})]}):a.jsx("div",{children:"Loading..."})}},34178:(e,t,s)=>{"use strict";var a=s(25289);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},83389:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(45347).createProxy)(String.raw`C:\Users\Wu\Desktop\班费管理系统\app\admin\page.tsx#default`)},54403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>n});var a=s(72051),r=s(23750),i=s.n(r);s(67272);var l=s(10247);let n={title:"班费管理系统",description:"一个现代化的班级财务管理平台"};function d({children:e}){return a.jsx("html",{lang:"zh-CN",children:(0,a.jsxs)("body",{className:i().className,children:[e,a.jsx(l.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[787,527],()=>s(1454));module.exports=a})();