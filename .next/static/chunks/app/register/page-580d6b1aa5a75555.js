(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{3213:function(e,r,s){Promise.resolve().then(s.bind(s,2833))},2833:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return i}});var a=s(7437),n=s(2265),t=s(9376),l=s(7648),o=s(9064);function i(){let[e,r]=(0,n.useState)({username:"",password:"",confirmPassword:"",realName:"",email:"",registrationCode:""}),[s,i]=(0,n.useState)(!1),d=(0,t.useRouter)(),u=s=>{r({...e,[s.target.name]:s.target.value})},c=async r=>{if(r.preventDefault(),e.password!==e.confirmPassword){o.Am.error("两次输入的密码不一致");return}if(e.password.length<6){o.Am.error("密码长度至少6位");return}i(!0);try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,realName:e.realName,email:e.email,registrationCode:e.registrationCode})}),s=await r.json();s.success?(o.Am.success("注册成功，请登录"),d.push("/login")):o.Am.error(s.message)}catch(e){o.Am.error("注册失败，请重试")}finally{i(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"用户注册"}),(0,a.jsx)("p",{className:"text-gray-600",children:"请填写注册信息"})]}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名 *"}),(0,a.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入用户名",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-700 mb-2",children:"真实姓名 *"}),(0,a.jsx)("input",{type:"text",id:"realName",name:"realName",value:e.realName,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入真实姓名",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"邮箱"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入邮箱"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码 *"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入密码（至少6位）",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"确认密码 *"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:e.confirmPassword,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请再次输入密码",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"registrationCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"注册码 *"}),(0,a.jsx)("input",{type:"text",id:"registrationCode",name:"registrationCode",value:e.registrationCode,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"请输入注册码",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"注册中...":"注册"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600",children:["已有账户？"," ",(0,a.jsx)(l.default,{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"立即登录"})]})})]})})}}},function(e){e.O(0,[64,448,971,117,744],function(){return e(e.s=3213)}),_N_E=e.O()}]);