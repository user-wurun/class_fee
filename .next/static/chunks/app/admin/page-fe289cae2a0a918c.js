(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{325:function(e,t,a){Promise.resolve().then(a.bind(a,9725))},9725:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),r=a(2265),i=a(9376),l=a(6319),c=a(9064);function n(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)("applications"),[n,d]=(0,r.useState)([]),[o,x]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[g,h]=(0,r.useState)([]),[u,y]=(0,r.useState)(!0),[b,j]=(0,r.useState)({page:1,limit:20,total:0,pages:0}),[N,f]=(0,r.useState)(1);(0,r.useEffect)(()=>{if(localStorage.getItem("auth-token"),"admin"!==JSON.parse(localStorage.getItem("user")||"{}").role){c.Am.error("无权限访问管理后台"),e.push("/");return}w(1)},[e]);let w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{let t=localStorage.getItem("auth-token"),[a,s,r,i]=await Promise.all([fetch("/api/applications?page=".concat(e,"&limit=20"),{headers:{Authorization:"Bearer ".concat(t)}}),fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(t)}}),fetch("/api/admin/categories",{headers:{Authorization:"Bearer ".concat(t)}}),fetch("/api/admin/registration-codes",{headers:{Authorization:"Bearer ".concat(t)}})]),[l,c,n,o]=await Promise.all([a.json(),s.json(),r.json(),i.json()]);l.success&&(d(l.data.applications),j(l.data.pagination),f(e)),c.success&&x(c.data),n.success&&p(n.data),o.success&&h(o.data.codes)}catch(e){c.Am.error("加载数据失败")}finally{y(!1)}},v=async e=>{try{let t=localStorage.getItem("auth-token"),a=await fetch("/api/applications/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:"approved"})}),s=await a.json();s.success?(c.Am.success("申请已批准"),w(N)):c.Am.error(s.message)}catch(e){c.Am.error("操作失败")}},k=async(e,t)=>{try{let a=localStorage.getItem("auth-token"),s=await fetch("/api/applications/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({status:"rejected",rejection_reason:t})}),r=await s.json();r.success?(c.Am.success("申请已拒绝"),w(N)):c.Am.error(r.message)}catch(e){c.Am.error("操作失败")}},C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{let t=localStorage.getItem("auth-token"),a=await fetch("/api/admin/registration-codes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({count:e,expiresInDays:30})}),s=await a.json();s.success?(c.Am.success("已生成".concat(e,"个注册码")),w(N)):c.Am.error(s.message)}catch(e){c.Am.error("生成注册码失败")}},S=e=>new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),A=e=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(e);return u?(0,s.jsx)(l.Z,{children:(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})}):(0,s.jsx)(l.Z,{children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"管理后台"}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:["applications","users","categories","registration-codes"].map(e=>(0,s.jsxs)("button",{onClick:()=>a(e),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(t===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["applications"===e&&"申请管理","users"===e&&"用户管理","categories"===e&&"分类管理","registration-codes"===e&&"注册码管理"]},e))})}),(0,s.jsxs)("div",{className:"mt-6",children:["applications"===t&&(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"申请管理"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"标题"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"申请人"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"金额"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"申请时间"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.applicant_name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A(e.amount)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"cancelled"===e.status?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"),children:"approved"===e.status?"已通过":"rejected"===e.status?"已拒绝":"cancelled"===e.status?"已撤销":"待审批"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.created_at)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>v(e.id),className:"text-green-600 hover:text-green-900 mr-3",children:"批准"}),(0,s.jsx)("button",{onClick:()=>{let t=prompt("请输入拒绝原因：");t&&k(e.id,t)},className:"text-red-600 hover:text-red-900",children:"拒绝"})]})})]},e.id))})]})}),b.pages>1&&(0,s.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(N-1)*b.limit+1," 到"," ",Math.min(N*b.limit,b.total)," 条，共"," ",b.total," 条记录"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(N-1),disabled:N<=1,className:"px-3 py-1 rounded ".concat(N<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"上一页"}),Array.from({length:Math.min(5,b.pages)},(e,t)=>{let a;return a=b.pages<=5?t+1:N<=3?t+1:N>=b.pages-2?b.pages-4+t:N-2+t,(0,s.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1 rounded ".concat(N===a?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a)}),(0,s.jsx)("button",{onClick:()=>w(N+1),disabled:N>=b.pages,className:"px-3 py-1 rounded ".concat(N>=b.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"下一页"})]})]})})]})}),"users"===t&&(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"用户管理"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"用户名"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"真实姓名"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"邮箱"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"角色"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"注册时间"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.username}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.real_name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"admin"===e.role?"管理员":"普通用户"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.created_at)})]},e.id))})]})}),b.pages>1&&(0,s.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(N-1)*b.limit+1," 到"," ",Math.min(N*b.limit,b.total)," 条，共"," ",b.total," 条记录"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(N-1),disabled:N<=1,className:"px-3 py-1 rounded ".concat(N<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"上一页"}),Array.from({length:Math.min(5,b.pages)},(e,t)=>{let a;return a=b.pages<=5?t+1:N<=3?t+1:N>=b.pages-2?b.pages-4+t:N-2+t,(0,s.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1 rounded ".concat(N===a?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a)}),(0,s.jsx)("button",{onClick:()=>w(N+1),disabled:N>=b.pages,className:"px-3 py-1 rounded ".concat(N>=b.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"下一页"})]})]})})]})}),"categories"===t&&(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"分类管理"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"分类名称"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"描述"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用次数"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.description||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.application_count||0}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.created_at)})]},e.id))})]})}),b.pages>1&&(0,s.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(N-1)*b.limit+1," 到"," ",Math.min(N*b.limit,b.total)," 条，共"," ",b.total," 条记录"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(N-1),disabled:N<=1,className:"px-3 py-1 rounded ".concat(N<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"上一页"}),Array.from({length:Math.min(5,b.pages)},(e,t)=>{let a;return a=b.pages<=5?t+1:N<=3?t+1:N>=b.pages-2?b.pages-4+t:N-2+t,(0,s.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1 rounded ".concat(N===a?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a)}),(0,s.jsx)("button",{onClick:()=>w(N+1),disabled:N>=b.pages,className:"px-3 py-1 rounded ".concat(N>=b.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"下一页"})]})]})})]})}),"registration-codes"===t&&(0,s.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"注册码管理"}),(0,s.jsxs)("div",{className:"space-x-3",children:[(0,s.jsx)("button",{onClick:()=>C(5),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"生成5个注册码"}),(0,s.jsx)("button",{onClick:()=>C(10),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"生成10个注册码"})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"注册码"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用者"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"创建时间"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"使用时间"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:e.code}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_used?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800"),children:e.is_used?"已使用":"未使用"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.used_by_name||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S(e.created_at)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.used_at?S(e.used_at):"-"})]},e.id))})]})}),b.pages>1&&(0,s.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["显示第 ",(N-1)*b.limit+1," 到"," ",Math.min(N*b.limit,b.total)," 条，共"," ",b.total," 条记录"]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(N-1),disabled:N<=1,className:"px-3 py-1 rounded ".concat(N<=1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"上一页"}),Array.from({length:Math.min(5,b.pages)},(e,t)=>{let a;return a=b.pages<=5?t+1:N<=3?t+1:N>=b.pages-2?b.pages-4+t:N-2+t,(0,s.jsx)("button",{onClick:()=>w(a),className:"px-3 py-1 rounded ".concat(N===a?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:a},a)}),(0,s.jsx)("button",{onClick:()=>w(N+1),disabled:N>=b.pages,className:"px-3 py-1 rounded ".concat(N>=b.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"下一页"})]})]})})]})})]})]})})}},6319:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(7437),r=a(2265),i=a(9376),l=a(9064);function c(e){let{children:t}=e,[a,c]=(0,r.useState)(null),[n,d]=(0,r.useState)(!1),o=(0,i.useRouter)();return((0,r.useEffect)(()=>{(()=>{let e=localStorage.getItem("auth-token"),t=localStorage.getItem("user");if(console.log("检查认证状态:",{hasToken:!!e,hasUser:!!t,currentPath:window.location.pathname}),!e||!t){console.log("未找到认证信息，跳转到登录页"),o.push("/login");return}try{let e=JSON.parse(t);console.log("用户数据解析成功:",e),c(e)}catch(e){console.error("用户数据解析失败:",e),localStorage.removeItem("auth-token"),localStorage.removeItem("user"),o.push("/login")}})()},[o]),a)?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("nav",{className:"bg-white shadow-md",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>o.push("/"),className:"text-xl font-bold text-gray-800 hover:text-gray-600",children:"班费管理系统"}),(0,s.jsx)("a",{href:"https://dashboard.pay.cubestudio.top",target:"_blank",rel:"noopener noreferrer",className:"ml-6 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"数据看板"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:["admin"===a.role&&(0,s.jsx)("button",{onClick:()=>o.push("/admin"),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"管理后台"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>d(!n),className:"flex items-center text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:[(0,s.jsx)("span",{className:"mr-2",children:a.real_name}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("admin"===a.role?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:"admin"===a.role?"管理员":"普通用户"}),(0,s.jsx)("svg",{className:"ml-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),n&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[(0,s.jsx)("button",{onClick:()=>{d(!1),(0,l.Am)("个人资料功能开发中")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"个人资料"}),(0,s.jsx)("button",{onClick:()=>{d(!1),o.push("/applications/new")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"新建申请"}),(0,s.jsx)("hr",{className:"my-1"}),(0,s.jsx)("button",{onClick:()=>{localStorage.removeItem("auth-token"),localStorage.removeItem("user"),l.Am.success("已退出登录"),o.push("/login")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"退出登录"})]})]})]})]})})}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t})]}):(0,s.jsx)("div",{children:"Loading..."})}},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[64,971,117,744],function(){return e(e.s=325)}),_N_E=e.O()}]);